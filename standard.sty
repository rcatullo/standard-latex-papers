%%%%%%%%%%%%%% REQUIRED PACKAGES %%%%%%%%%%%%%%%%
\RequirePackage{setspace}
\RequirePackage[skip=0.5em]{parskip}
\RequirePackage{amssymb}
\RequirePackage{amsmath}
\RequirePackage{amsthm}
\RequirePackage{float}
\RequirePackage{mathrsfs}
\RequirePackage{tikz-cd}
\RequirePackage[margin=1in]{geometry}
\RequirePackage{enumitem}
\RequirePackage{graphicx}
\RequirePackage{titlesec}
\RequirePackage{ragged2e}
\RequirePackage{color}
\RequirePackage{hyperref}
\RequirePackage{mdframed}
\RequirePackage{framed}
\RequirePackage{fancyhdr}
\RequirePackage{titleref}
\RequirePackage{lipsum}
\RequirePackage{tocloft}
\RequirePackage{extarrows}
\RequirePackage{mathtools}
\RequirePackage{listings}
\RequirePackage[toc,page]{appendix}
\RequirePackage[backend=biber,style=alphabetic]{biblatex} 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%% BIBLIOGRAPHY SETUP %%%%%%%%%%%%%%%%
\addbibresource{refs.bib}
\hypersetup{
    colorlinks=true, 
    linktoc=all,
    linkcolor=black,
    citecolor=black,
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%% FORMATTING THINGS %%%%%%%%%%%%%%%%
%% SECTIONS AND SUBSECTIONS %%
\titleformat{\section}[block]{\center\normalfont\scshape}{\thesection.}{0.5em}{}
\titlespacing*{\section}{0pt}{0.5em}{0.5em}

\titleformat{\subsection}[hang]{\normalfont\bfseries}{\normalfont\thesubsection.}{0.5em}{}
\titlespacing*{\subsection}{0pt}{0.5em}{0.5em}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%% ABSTRACT %%
\mdfdefinestyle{abstract}{leftmargin=.05\linewidth,rightmargin=.05\linewidth,%
innerleftmargin=0pt,innerrightmargin=0pt,roundcorner=0pt, linewidth=0pt}

\renewcommand{\abstract}[1]{\begin{mdframed}[style=abstract] \textsc{Abstract}. #1
\end{mdframed}}
%%%%%%%%%%%%%%

%% TABLE OF CONTENTS %%
\renewcommand{\cfttoctitlefont}{\hfil\normalfont\scshape}
\renewcommand{\cftaftertoctitle}{\hfil}
\setlength{\cftsubsecindent}{0pt}
\setlength{\cftbeforesecskip}{0.5em}
\renewcommand{\cftdotsep}{9}
\renewcommand{\cftsecfont}{\normalfont}
\renewcommand{\cftsecpagefont}{\normalfont}
\renewcommand{\cftsecleader}{\cftdotfill{\cftdotsep}}
\renewcommand{\cftsecdotsep}{\cftdotsep}
\renewcommand{\cftsubsecdotsep}{\cftdotsep}
%%%%%%%%%%%%%%%%%%%%%%%

%% HEADERS AND FOOTERS %%
\fancyhf{}
\fancyhead[L]{\footnotesize \leftmark}
\fancyhead[R]{\footnotesize \thepage}
%%%%%%%%%%%%%%%%%%%%%%%%%

%% PARAGRAPH INDENT %%
\setlength{\parindent}{0pt}
%%%%%%%%%%%%%%%%%%%%%%

%% LISTINGS ENVIRONMENT %%
\lstset{basicstyle=\ttfamily,
escapeinside={||},
mathescape=true}
%%%%%%%%%%%%%%%%%%%%%%%%%%

%% SHADED ENVIRONMENT %%
\definecolor{shadecolor}{gray}{0.95}
%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%% THEOREM ENVIRONMENTS %%%%%%%%%%%%%%%%
\newtheoremstyle{standard}
    {10pt}
    {10pt}
    {}
    {\parindent}
    {\scshape}
    {}
    {.5em}
    {}
\theoremstyle{standard}
\newtheorem{thm}{Theorem}[section]
\newtheorem{lem}[thm]{Lemma}
\newtheorem{prop}[thm]{Proposition}
\newtheorem{cor}[thm]{Corollary}
\newtheorem{defn}{Definition}[section]
\newtheorem{exmp}{Example}[section]
\newtheorem*{rem}{Remark}
\newtheorem*{question}{Question}
\newtheorem{exer}{Exercise}[section]
\newtheorem*{todo}{TODO}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%% STYLIZED LETTERS %%%%%%%%%%%%%%%%
%% BOLD LETTERS %%
\newcommand{\bba}{\mathbb{A}}
\newcommand{\bbb}{\mathbb{B}}
\newcommand{\bbc}{\mathbb{C}}
\newcommand{\bbd}{\mathbb{D}}
\newcommand{\bbe}{\mathbb{E}}
\newcommand{\bbf}{\mathbb{F}}
\newcommand{\bbg}{\mathbb{G}}
\newcommand{\bbh}{\mathbb{H}}
\newcommand{\bbi}{\mathbb{I}}
\newcommand{\bbj}{\mathbb{J}}
\newcommand{\bbk}{\mathbb{K}}
\newcommand{\bbl}{\mathbb{L}}
\newcommand{\bbm}{\mathbb{M}}
\newcommand{\bbn}{\mathbb{N}}
\newcommand{\bbo}{\mathbb{O}}
\newcommand{\bbp}{\mathbb{P}}
\newcommand{\bbq}{\mathbb{Q}}
\newcommand{\bbr}{\mathbb{R}}
\newcommand{\bbs}{\mathbb{S}}
\newcommand{\bbt}{\mathbb{T}}
\newcommand{\bbu}{\mathbb{U}}
\newcommand{\bbv}{\mathbb{V}}
\newcommand{\bbw}{\mathbb{W}}
\newcommand{\bbx}{\mathbb{X}}
\newcommand{\bby}{\mathbb{Y}}
\newcommand{\bbz}{\mathbb{Z}}
%% MATHFRAK LETTERS %%
\newcommand{\mfa}{\mathfrak{a}}
\newcommand{\mfb}{\mathfrak{b}}
\newcommand{\mfc}{\mathfrak{c}}
\newcommand{\mfd}{\mathfrak{d}}
\newcommand{\mfe}{\mathfrak{e}}
\newcommand{\mff}{\mathfrak{f}}
\newcommand{\mfg}{\mathfrak{g}}
\newcommand{\mfh}{\mathfrak{h}}
\newcommand{\mfi}{\mathfrak{i}}
\newcommand{\mfj}{\mathfrak{j}}
\newcommand{\mfk}{\mathfrak{k}}
\newcommand{\mfl}{\mathfrak{l}}
\newcommand{\mfm}{\mathfrak{m}}
\newcommand{\mfn}{\mathfrak{n}}
\newcommand{\mfo}{\mathfrak{o}}
\newcommand{\mfp}{\mathfrak{p}}
\newcommand{\mfq}{\mathfrak{q}}
\newcommand{\mfr}{\mathfrak{r}}
\newcommand{\mfs}{\mathfrak{s}}
\newcommand{\mft}{\mathfrak{t}}
\newcommand{\mfu}{\mathfrak{u}}
\newcommand{\mfv}{\mathfrak{v}}
\newcommand{\mfw}{\mathfrak{w}}
\newcommand{\mfx}{\mathfrak{x}}
\newcommand{\mfy}{\mathfrak{y}}
\newcommand{\mfz}{\mathfrak{z}}
\newcommand{\mfA}{\mathfrak{A}}
\newcommand{\mfB}{\mathfrak{B}}
\newcommand{\mfC}{\mathfrak{C}}
\newcommand{\mfD}{\mathfrak{D}}
\newcommand{\mfE}{\mathfrak{E}}
\newcommand{\mfF}{\mathfrak{F}}
\newcommand{\mfG}{\mathfrak{G}}
\newcommand{\mfH}{\mathfrak{H}}
\newcommand{\mfI}{\mathfrak{I}}
\newcommand{\mfJ}{\mathfrak{J}}
\newcommand{\mfK}{\mathfrak{K}}
\newcommand{\mfL}{\mathfrak{L}}
\newcommand{\mfM}{\mathfrak{M}}
\newcommand{\mfN}{\mathfrak{N}}
\newcommand{\mfO}{\mathfrak{O}}
\newcommand{\mfP}{\mathfrak{P}}
\newcommand{\mfQ}{\mathfrak{Q}}
\newcommand{\mfR}{\mathfrak{R}}
\newcommand{\mfS}{\mathfrak{S}}
\newcommand{\mfT}{\mathfrak{T}}
\newcommand{\mfU}{\mathfrak{U}}
\newcommand{\mfV}{\mathfrak{V}}
\newcommand{\mfW}{\mathfrak{W}}
\newcommand{\mfX}{\mathfrak{X}}
\newcommand{\mfY}{\mathfrak{Y}}
\newcommand{\mfZ}{\mathfrak{Z}}
%% MATHCAL LETTERS %%
\newcommand{\cala}{\mathcal{A}}
\newcommand{\calb}{\mathcal{B}}
\newcommand{\calc}{\mathcal{C}}
\newcommand{\cald}{\mathcal{D}}
\newcommand{\cale}{\mathcal{E}}
\newcommand{\calf}{\mathcal{F}}
\newcommand{\calg}{\mathcal{G}}
\newcommand{\calh}{\mathcal{H}}
\newcommand{\cali}{\mathcal{I}}
\newcommand{\calj}{\mathcal{J}}
\newcommand{\calk}{\mathcal{K}}
\newcommand{\call}{\mathcal{L}}
\newcommand{\calm}{\mathcal{M}}
\newcommand{\caln}{\mathcal{N}}
\newcommand{\calo}{\mathcal{O}}
\newcommand{\calp}{\mathcal{P}}
\newcommand{\calq}{\mathcal{Q}}
\newcommand{\calr}{\mathcal{R}}
\newcommand{\cals}{\mathcal{S}}
\newcommand{\calt}{\mathcal{T}}
\newcommand{\calu}{\mathcal{U}}
\newcommand{\calv}{\mathcal{V}}
\newcommand{\calw}{\mathcal{W}}
\newcommand{\calx}{\mathcal{X}}
\newcommand{\caly}{\mathcal{Y}}
\newcommand{\calz}{\mathcal{Z}}
%% FANCY LETTERS %%
\newcommand{\fana}{\mathscr{A}}
\newcommand{\fanb}{\mathscr{B}}
\newcommand{\fanc}{\mathscr{C}}
\newcommand{\fand}{\mathscr{D}}
\newcommand{\fane}{\mathscr{E}}
\newcommand{\fanf}{\mathscr{F}}
\newcommand{\fang}{\mathscr{G}}
\newcommand{\fanh}{\mathscr{H}}
\newcommand{\fani}{\mathscr{I}}
\newcommand{\fanj}{\mathscr{J}}
\newcommand{\fank}{\mathscr{K}}
\newcommand{\fanl}{\mathscr{L}}
\newcommand{\fanm}{\mathscr{M}}
\newcommand{\fann}{\mathscr{N}}
\newcommand{\fano}{\mathscr{O}}
\newcommand{\fanp}{\mathscr{P}}
\newcommand{\fanq}{\mathscr{Q}}
\newcommand{\fanr}{\mathscr{R}}
\newcommand{\fans}{\mathscr{S}}
\newcommand{\fant}{\mathscr{T}}
\newcommand{\fanu}{\mathscr{U}}
\newcommand{\fanv}{\mathscr{V}}
\newcommand{\fanw}{\mathscr{W}}
\newcommand{\fanx}{\mathscr{X}}
\newcommand{\fany}{\mathscr{Y}}
\newcommand{\fanz}{\mathscr{Z}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%% OPERATIONS, CONNECTORS & SEPARATORS %%%%%%%%%%%%
%%% Module Things %%
\newcommand{\tensor}{\otimes}
\newcommand{\bigtensor}{\bigotimes}
\newcommand{\dsum}{\oplus}
\newcommand{\bigdsum}{\bigoplus}
%% Maps %%
\newcommand{\inj}{\hookrightarrow}
\newcommand{\surj}{\twoheadrightarrow}
\newcommand{\bij}{\overset{\sim}{\to}}
\newcommand{\dlim}{\varinjlim}
\newcommand{\inlim}{\varprojlim}  
%% Topology Things %%
\renewcommand{\bar}[1]{\overline{#1}}
\newcommand{\csum}{\#}
\DeclareMathOperator{\topint}{int}
\newcommand{\topwedge}{\vee}
\newcommand{\bigtopwedge}{\bigvee}
\renewcommand{\tilde}{\widetilde}
\renewcommand{\hat}{\widehat}
%% Left-Righting Things %%
\newcommand{\set}[1]{\left\{ #1 \right\}}
\newcommand{\brangle}[1]{\left\langle #1 \right\rangle}
\renewcommand{\brack}[1]{\left(   #1 \right)}
\newcommand{\abs}[1]{\left| #1 \right|}
\newcommand{\norm}[1]{\left\lVert #1 \right\rVert}
\newcommand{\floor}[1]{\left\lfloor #1 \right\rfloor}
\newcommand{\ceil}[1]{\left\lceil #1 \right\rceil}
\newcommand{\sqbrack}[1]{\left[ #1 \right]}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%% CUSTOM SYMBOLS FOR FUNZIES %%%%%%%%%%%%%
\newcommand{\fish}{ %% For R.V. w/ Poisson dist %%
  \mathchoice
    {\mathrel{\ooalign{$\alpha$\cr\hidewidth \kern -0.13em $\cdot$\hidewidth}}}% \displaystyle
    {\mathrel{\ooalign{$\alpha$\cr\hidewidth \kern -0.13em$\cdot$\hidewidth}}}% \textstyle
    {\mathrel{\ooalign{$\scriptstyle\alpha$\cr\hidewidth\kern -0.13em $\scriptstyle\cdot$\hidewidth}}}% \scriptstyle
    {\mathrel{\ooalign{$\scriptscriptstyle\alpha$\cr\hidewidth \kern -0.13em $\scriptscriptstyle\cdot$\hidewidth}}}% \scriptscriptstyle
}

\newcommand{\notimplies}{
\mathrel{{\ooalign{\hidewidth$\not\phantom{=}$\hidewidth\cr$\implies$}}}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%% MISC OPS&COMMANDS %%%%%%%%%%%%%%%%%
%% Categorical tingz %%
\DeclareMathOperator{\Set}{\mathsf{Set}}
\DeclareMathOperator{\Isom}{\mathsf{Isom}}
\DeclareMathOperator{\Afft}{\mathsf{Aff}^{ft}}
\DeclareMathOperator{\Aff}{\mathsf{Aff}}
\DeclareMathOperator{\CommAlg}{\mathsf{CommAlg}}
\DeclareMathOperator{\Ab}{\mathsf{Ab}}
\DeclareMathOperator{\Grp}{\mathsf{Grp}}
\DeclareMathOperator{\Grpd}{\mathsf{Grpd}}
\DeclareMathOperator{\Top}{\mathsf{Top}}
\DeclareMathOperator{\Diff}{\mathsf{Diff}}
\DeclareMathOperator{\Rmod}{\mathsf{R-Mod}}
\DeclareMathOperator{\Zmod}{Z-\mathsf{Mod}}
\DeclareMathOperator{\Amod}{\mathsf{A-Mod}}
\DeclareMathOperator{\Vect}{\mathsf{Vect}}
\DeclareMathOperator{\Ring}{\mathsf{Ring}}
\DeclareMathOperator{\CRing}{\mathsf{CRing}}
\DeclareMathOperator{\Meas}{\mathsf{Meas}}
\DeclareMathOperator{\Met}{\mathsf{Met}}
\DeclareMathOperator{\Cat}{\mathsf{Cat}}
\DeclareMathOperator{\Man}{\mathsf{Man}}
\DeclareMathOperator{\Sh}{\mathsf{Sh}}
\DeclareMathOperator{\Presh}{\mathsf{PreSh}}
\DeclareMathOperator{\PreSh}{\mathsf{PreSh}}
\DeclareMathOperator{\Open}{\mathsf{Open}}
\DeclareMathOperator{\Et}{\mathsf{Et}}
\DeclareMathOperator{\Sch}{\mathsf{Sch}}
\DeclareMathOperator{\mor}{Mor}
\DeclareMathOperator{\Mor}{Mor}
\DeclareMathOperator{\ob}{Ob}
\DeclareMathOperator{\Ob}{Ob}
\DeclareMathOperator{\op}{\mathsf{op}}
\DeclareMathOperator{\coker}{coker}
\DeclareMathOperator{\coim}{coim}
%% Algebra Tingz %%
\DeclareMathOperator{\Ext}{Ext}
\DeclareMathOperator{\Hom}{Hom}
\DeclareMathOperator{\Tor}{Tor}
\DeclareMathOperator{\spn}{span}
\DeclareMathOperator{\ord}{ord}
\DeclareMathOperator{\lcm}{lcm}
\DeclareMathOperator{\aut}{Aut}
\DeclareMathOperator{\Aut}{Aut}
\DeclareMathOperator{\End}{End}
\DeclareMathOperator{\rank}{rank}
\DeclareMathOperator{\gal}{Gal}
\DeclareMathOperator{\Gal}{Gal}
\DeclareMathOperator{\sep}{sep}
\DeclareMathOperator{\rad}{rad}
\DeclareMathOperator{\nil}{nil}
\DeclareMathOperator{\ann}{ann}
\DeclareMathOperator{\ab}{ab}
\DeclareMathOperator{\Frac}{Frac}
\DeclareMathOperator{\trdeg}{trdeg}
\DeclareMathOperator{\orb}{Orb}
\DeclareMathOperator{\stab}{Stab}
\newcommand{\rExt}{\cale xt}
\newcommand{\rHom}{\calh om}
\newcommand{\ideal}{\trianglelefteq}
\newcommand{\acts}{\curverightarrow}
\newcommand{\actson}{\curverightarrow}
\renewcommand{\action}{\curverightarrow}
\newcommand{\pt}[1]{#1\Parens{t}}
\newcommand{\bt}[1]{#1\Brackets{t}}
%% ANT Tings %%
\DeclareMathOperator{\Pic}{Pic}
\DeclareMathOperator{\cl}{Cl}
\DeclareMathOperator{\bigdiv}{Div}
\DeclareMathOperator{\smalldiv}{div}
\DeclareMathOperator{\trace}{Tr}
\DeclareMathOperator{\tr}{Tr}
\DeclareMathOperator{\disc}{disc}
\newcommand{\zzz}[1]{\zz/#1 \zz}
%% Function Tingz %%
\DeclareMathOperator{\id}{Id}
\DeclareMathOperator{\sgn}{sgn}
\DeclareMathOperator{\image}{Im}
\newcommand{\im}[1]{\mathfrak{Im} \left( #1 \right)}
\newcommand{\re}[1]{\mathfrak{Re} \left( #1 \right)}
\newcommand{\inv}[1]{#1^{-1}}
%% Alg Geo Tingz %%
\newcommand{\ox}{\calo_X}
\DeclareMathOperator{\spec}{Spec}
\DeclareMathOperator{\mspec}{Max-Spec}
\DeclareMathOperator{\supp}{Supp}
\DeclareMathOperator{\ass}{Ass}
\DeclareMathOperator{\weakass}{WeakAss}
\DeclareMathOperator{\proj}{Proj}
\DeclareMathOperator{\et}{et}
\DeclareMathOperator{\grass}{Gr}
\DeclareMathOperator{\gr}{Gr}
\DeclareMathOperator{\Gr}{Gr}
\DeclareMathOperator{\hilb}{\calh ilb}
\DeclareMathOperator{\Hilb}{\calh ilb}
\DeclareMathOperator{\quot}{Quot}
\DeclareMathOperator{\Quot}{Quot}
\DeclareMathOperator{\bg}{\fanb G}
\DeclareMathOperator{\bh}{\fanb H}
\DeclareMathOperator{\Bun}{Bun}
\DeclareMathOperator{\Maps}{Maps}
\DeclareMathOperator{\Sect}{Sect}
%% Matrix Tingz %%
\DeclareMathOperator{\GL}{GL}
\DeclareMathOperator{\Gl}{GL}
\DeclareMathOperator{\gl}{GL}
\DeclareMathOperator{\PSL}{PSL}
\DeclareMathOperator{\psl}{PSL}
\DeclareMathOperator{\pgl}{PGL}
\DeclareMathOperator{\SL}{SL}
\DeclareMathOperator{\SO}{SO}
\DeclareMathOperator{\Sp}{Sp}
\DeclareMathOperator{\SU}{SU}
\DeclareMathOperator{\su}{SU}
\DeclareMathOperator{\mat}{\mathsf{Mat}}
\DeclareMathOperator{\mot}{\mathsf{Mot}}
\DeclareMathOperator{\graph}{\mathsf{Graph}}
\DeclareMathOperator{\rep}{Rep}
\DeclareMathOperator{\res}{Res}
\DeclareMathOperator{\sym}{Sym}
\renewcommand{\O}{\textsc{O}}
%% Analysis Tingz %%
\DeclareMathOperator{\grad}{grad}
\DeclareMathOperator{\curl}{curl}
\newcommand{\dA}{\, \mathrm{d}A}
\newcommand{\dq}{\, \mathrm{d}q}
\newcommand{\dr}{\, \mathrm{d}r}
\newcommand{\ds}{\, \mathrm{d}s}
\newcommand{\dt}{\, \mathrm{d}t}
\newcommand{\du}{\, \mathrm{d}u}
\newcommand{\dv}{\, \mathrm{d}v}
\newcommand{\dV}{\, \mathrm{d}V}
\newcommand{\dx}{\, \mathrm{d}x}
\newcommand{\dy}{\, \mathrm{d}y}
\newcommand{\dz}{\, \mathrm{d}z}
\newcommand{\dtheta}{\, \mathrm{d}\theta}
\newcommand{\domega}{\, \mathrm{d}\omega}
\newcommand{\del}{\partial}
\DeclareMathOperator{\vol}{Vol}
%% Topology Tingz %%
\DeclareMathOperator{\rel}{rel}
\newcommand{\lift}[1]{\widetilde{#1}}
%% Logic Tingz %%
\newcommand{\semantics}[1]{[\![\textnormal{$ #1 $\/}]\!]}
\newcommand{\entails}{\Vdash}
%% Prob Tingz %%
\newcommand{\given}{\mid}
\DeclareMathOperator{\opt}{opt}
\DeclareMathOperator{\var}{var}
\DeclareMathOperator{\bin}{Bin}
\DeclareMathOperator{\geo}{Geo}
\DeclareMathOperator{\poi}{Poi}
\DeclareMathOperator{\ber}{Ber}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%